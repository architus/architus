# Maximum number of executing futures for gateway event normalization processing
queue_consumer_concurrency = 5
# The duration of successful runtime after which to reset the reconnection backoff
reconnection_backoff_reset_threshold = "1m"
# User ID of the bot user, used to match when normalizing agents
bot_user_id = 448546825532866560
# URL of a JSON document containing shortcode->emoji mappings compatible with Discord
emoji_db_url = "https://raw.githubusercontent.com/devcat/discord.emojis/master/dist/kv.json"

[services]
# Full AMQP URL to connect to the gateway queue at
gateway_queue = "amqp://127.0.0.1:5672/%2f"
# HTTP URL of the logs/submission service that normalized LogEvents are forwarded to
logs_submission = "http://[::1]:50282"

# Config options related to the Gateway Queue
[gateway_queue]
# Name of the queue to pull events from
queue_name = "logs/gateway-queue"
# Consumer tag used for the main event consumer
consumer_tag = "gateway-normalize"

# Parameters for the backoff used to connect to external services during initialization
[initialization_backoff]
initial_interval = "500ms"
max_interval = "30s"
duration = "2m"
multiplier = 2.0

# Parameters for the backoff used to send RPC calls to other services
[rpc_backoff]
initial_interval = "100ms"
max_interval = "1s"
duration = "5s"
multiplier = 2.0

# Parameters for the backoff used to reconnect to the gateway queue
[reconnection_backoff]
initial_interval = "100ms"
max_interval = "10s"
duration = "2m"
multiplier = 2.0

# Note: these should be specified using environment variables in production
# For example, to specify `discord_token`,
# give a value to the `LOGS_GATEWAY_NORMALIZE_SECRETS__DISCORD_TOKEN` variable
[secrets]
# Discord API bot token
discord_token = "REPLACE_ME"
